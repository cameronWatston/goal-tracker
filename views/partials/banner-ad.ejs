<!-- Clean AdSense Implementation for Revenue Generation -->
<!-- Only shows to FREE users - Premium users see NO ads -->

<% if (showAds && adsenseConfig && adsenseConfig.enabled) { %>
<div class="adsense-wrapper">
    <!-- Responsive Display Ad -->
    <div class="adsense-placement" id="adsense-<%= Math.random().toString(36).substr(2, 9) %>">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="<%= adsenseConfig.clientId %>"
             data-ad-slot="<%= locals.adSlot || '1234567890' %>"
             data-ad-format="<%= locals.adFormat || 'auto' %>"
             <% if (locals.fullWidth !== false) { %>data-full-width-responsive="true"<% } %>></ins>
    </div>
</div>

<style>
.adsense-wrapper {
    margin: 1rem 0;
    text-align: center;
    position: relative;
}

.adsense-placement {
    max-width: 100%;
    margin: 0 auto;
    border-radius: 8px;
    overflow: hidden;
    background: #f8f9fa;
    min-height: 90px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.adsbygoogle {
    width: 100%;
    display: block !important;
}

/* Responsive Design */
@media (max-width: 768px) {
    .adsense-wrapper {
        margin: 0.5rem 0;
    }
    
    .adsense-placement {
        min-height: 70px;
    }
}

/* Loading state */
.adsense-placement:empty::before {
    content: "Advertisement";
    color: #6c757d;
    font-size: 0.8rem;
    opacity: 0.7;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
</style>

<script>
// Initialize this specific ad unit
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<% } %>

<!-- Premium users see nothing here - completely ad-free experience --> 